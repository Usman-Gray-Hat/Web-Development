<!DOCTYPE html>
<html>
<head>
  <title>Invoice Modal with Canvas</title>
  <!-- Bootstrap CSS v5.2.1 -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.min.css" rel="stylesheet"
  integrity="sha384-iYQeCzEYFbKjA/T2uDLTpkwGzCiq6soy8tYaI1GyVh/UjpbCx/TYkiZhlZB6+fzT" crossorigin="anonymous">
  <style>
    *{
      font-family: sans-serif;
      font-size: 14px;
    }
    .jumbotron{
      font-weight: 900;
      letter-spacing: 2px;
      height: 60px;
    }
    .modal-title{
      font-weight: 900;
    }
  </style>
</head>
<body>

      <!-- Using Bootstrap Grid System -->
      <div class="container">
        <div class="row">
          <div class="col-md-12">
            <h1 class="jumbotron text-center bg-dark text-white">CAPTURE INVOICE RECEIPT CONTENT USING JQUERY</h1>
          </div>
        </div>
        <div class="row">
          <div class="col-md-12">
            <!-- Modal Trigger Button -->
            <button type="button" class="btn btn-outline-primary" data-bs-toggle="modal" data-bs-target="#myModal"> Open Modal </button>
          </div>
        </div>
      </div>

<!-- Modal -->
<div class="modal fade" id="myModal" data-bs-backdrop="static">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
          <!-- Modal Body -->
      <div class="modal-body" id="invoiceContent">
        <div class="row p-2">
          <div class="col-md-2">
            <img src="logo.png"  width="70" height="50">
          </div>
          <div class="col-md-8">
            <h3 class="mt-2 text-center" style="font-weight: 900;">PAYMENT DETAILS</h3>
          </div>
        </div>
        <!-- ID -->
        <div class="row border-bottom border-top p-2">
          <div class="col">
            <label for="">ID:</label>
          </div>
          <div class="col">
            <label for="">2</label>
          </div>          
        </div>
        <!-- Full Name -->
        <div class="row border-bottom p-2">
          <div class="col">
            <label for="">Full Name</label>
          </div>
          <div class="col">
            <label for="">Usman Hameed</label>
          </div>          
        </div> 
        <!-- Age -->
        <div class="row border-bottom p-2">
          <div class="col">
            <label for="">Age</label>
          </div>
          <div class="col">
            <label for="">24</label>
          </div>          
        </div> 
        <!-- Hobby -->
        <div class="row p-2">
          <div class="col">
            <label for="">Hobby</label>
          </div>
          <div class="col">
            <label for="">Coding</label>
          </div>          
        </div>         
      </div>
      <!-- Modal Footer -->
      <div class="modal-footer">
        <button type="button" id="saveInvoiceBtn" class="btn btn-outline-primary">Save</button>
        <button type="button" class="btn btn-outline-secondary" data-bs-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>


  <!-- Canvas Element -->
  <canvas id="canvas"></canvas>

  <!-- jQuery CDN & Necessary SCripts For Canvas Scripts -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/fabric.js/4.6.0/fabric.min.js"></script>
  <script src="https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script>
  <!-- Custom Scripting -->
  <script type="text/javascript">
    $(document).ready(function() {
      // Save Invoice Button Click Event
      $('#saveInvoiceBtn').click(function() {
        // Capture a screenshot of the invoice modal
        html2canvas($('#invoiceContent')[0]).then(function(canvas) {
          // Convert the canvas to a data URL
          var screenshotUrl = canvas.toDataURL('image/png');

          // Create a download link for the screenshot
          var $link = $('<a>').attr({'href':screenshotUrl,
            'download':'invoice.png'
        }).css('display', 'none');

          $('body').append($link);
          $link[0].click();
          $link.remove();
        });
      });
    });
  </script>
</body>
</html>

